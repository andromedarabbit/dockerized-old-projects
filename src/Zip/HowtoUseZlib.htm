<!doctype html public "-//w3c//dtd xhtml 1.0 transitional//en" "http://www.w3.org/tr/xhtml1/dtd/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Visual C++ 6 에서 Zlib 사용하기</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="keywords" content="zlib vc++ ">

		<style type="text/css" media="screen">
			/* <![CDATA[ */
			@import url(css/screen.css);
			/**//*/@import "css/screen.css";/**/
			/* ]]> */
		</style>
		<style type="text/css" media="print">
			/* <![CDATA[ */
			@import url(css/print.css);
			/**//*/@import "css/print.css";/**/
			/* ]]> */
		</style>
	</head>

	<body>
		<div id="wrap">
			<div id="navigate">
				<p><a href="Index.htm">Home</a> &gt;Visual C++ 6.0에서 Zlib 사용하기</p>
			</div>

			<div id="content">

				<h1 id="header">Visual C++ 6.0에서 Zlib 사용하기</h1>
	
				<br/>
				
				<h2 class="subtitle">Zlib 소스 코드를 다운로드 받을 수 있는 웹 사이트.</h2>
					<p><a href="http://www.gzip.org/zlib">http://www.gzip.org/zlib</a></p></li>
				
				<br/>
					
				<h2 class="subtitle">Win32용 Static Library 만들기</h2>
					<ol>
						<li><p>다운로드 받은 파일의 압축을 해제한다.</p>
							<p><img border="0" width="566" height="469" src="HowtoUseZlib.files/image002.jpg" alt="다운로드 받은 파일의 압축을 해제한다." /></p></li>
						<li><p>Visual C++ 6.0에서 File-&gt;New-&gt;Project-&gt;Win32 static library</p>
							<p><img border="0" width="567" height="367" src="HowtoUseZlib.files/image004.jpg" alt="Visual Studio 6.0 을 실행시킨다." /></p></li>
						<li><p>이 때<span lang="EN-US"> MFC Support를 선택한다.</p>
							<p><img border="0" width="567" height="432" src="HowtoUseZlib.files/image006.jpg" alt="MFC Support 를 선택한다." /></p></li>
						<li><p>Source Files에 example.c와 minigzip.c 를 제외한 *.c 파일을 추가한다.</p>
							<p><img border="0" width="535" height="568" src="HowtoUseZlib.files/image007.gif" alt="프로젝트에 소스 파일들을 추가한다." /></p>
							<p><img border="0" width="498" height="284" src="HowtoUseZlib.files/image008.gif" alt="example.c와 minigzip.c 를 제외한 *.c 파일을 추가한다." /></p></li>
								
						<li><p>Source File List</p>
							<p><samp title="추가해야 하는 소스 파일 목록">
								adler32.c
								compress.c
								crc32.c
								deflate.c
								gzio.c
								infblock.c
								infcodes.c
								inffast.c
								inflate.c
								inftrees.c
								infutil.c
								maketree.c
								tree.c
								uncompr.c
								zutil.c
							</samp></p></li>

						<li><p>Header Files에 모든 *.h 파일을 추가한다.</p>
							<p><img border="0" width="498" height="284" src="HowtoUseZlib.files/image009.gif" alt="모든 헤더 파일을 추가한다." /></p></li>
								

						<li><p>Header File List</p>
							<p><samp title="추가해야 하는 헤더 파일 목록">
								deflate.h
								infblock.h
								infcodes.h
								inffast.h
								inffixed.h
								inftrees.h
								infutil.h
								trees.h
								zconf.h
								zlib.h
								zutil.h
							</samp></p></li>
								
						<li><p>F7을 누르면 library가 build된다.</p>
							<p><img border="0" width="512" height="534" src="HowtoUseZlib.files/image010.gif" alt="프로젝트를 빌드한다." /></p>
						
						<li><p>debug 또는 release 폴더에 zlib.lib이 생성되어 있다.</p>
							<p><img border="0" width="566" height="469" src="HowtoUseZlib.files/image012.jpg" alt="빌드된 zlib.lib 파일을 확인한다." /></p>
					</ol>
				
				<br/>
				
				<h2 class="subtitle">사용방법</h2>

					<ol>
						<li>Source Files에 2번에서 만든 library 파일 추가한다.</li>
						<li>Header Files에 zconf.h와 zlib.h 파일 추가한다.</li>
						<li>Library를 사용할 Source file에 <span style="COLOR:blue; FONT-FAMILY:'Times New Roman'; mso-ascii-font-family:바탕"><code>#include“zlib.h”</code></span> 를 추가한다.</li>
					</ol>
						
				<br/>

				<h2 class="subtitle">Zlib에 포함된 Functions에 대한 Manual</h2>
					<ol>
						<li><a href="Example.zip">Visual	C++ 6.0용 예제 소스 코드</a></li>
						<li><a href="http://www.gzip.org/zlib/manual.html">http://www.gzip.org/zlib/manual.html</a> 또는 <a href="http://www.gzip.org/zlib">http://www.gzip.org/zlib</a> 에서 다운로드 받은 소스코드에 포함되어 있다.</li>
					</ol>
				
				<br/>
				
				<h2 class="subtitle">문제와 해결 방안</h2>

						<p>라이브러리 링크 시에 다음과 같은 메시지가 나올 수 있다</p>

						<pre><code>MSVCRTD.lib(MSVCRTD.dll) : error LNK2005: _calloc already defined in LIBCD.lib(dbgheap.obj)
MSVCRTD.lib(MSVCRTD.dll) : error LNK2005: _free already defined in LIBCD.lib(dbgheap.obj)
LINK : warning LNK4098: defaultlib "MSVCRTD" conflicts with use of other libs; use /NODEFAULTLIB:library
Debug/Test.exe : fatal error LNK1169: one or more multiply defined symbols found</code></pre>

						<p>Project-&gt;Setting-&gt;C/C++-&gt;Category-&gt;Code Generation-&gt;Mutithreaded DLL을 선택하면 된다.</p>

				<br/>
				
				<h2 class="subtitle">그 밖의 참고 자료</h2>
					<ul>
						<li><a href="http://www.ietf.org/rfc/rfc1950.txt">ZLIB Compressed Data Format Specification version 3.3</a></li>
						<li><a href="http://www.ietf.org/rfc/rfc1951.txt">DEFLATE Compressed Data Format Specification version 1.3</a></li>
						<li><a href="http://www.ietf.org/rfc/rfc1952.txt">GZIP file format specification version 4.3</a></li>
					</ul>
				</ol>
			</div>
		</div>

<!-- 구글 로그분석코드 시작 -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-64652-1";
urchinTracker();
</script>
<!-- 구글 로그분석코드 완료 -->
	</body>

</html>
